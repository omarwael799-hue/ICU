"use client";

import Header from "@/components/header";
import Footer from "@/components/footer";
import SectionHeading from "@/components/section-heading";
import { useMemo, useState } from "react";
import { Search, ChevronDown } from "lucide-react";

type FaqItem = { q: string; a: string };

const FAQ: FaqItem[] = [
  {
 
    q: "ما هو اتحاد الشركات الدولي؟",
    a: "اتحاد الشركات الدولي هو اتحاد مهني دولي يضم شركات، رجال أعمال، ومستثمرين من عدة دول، ويعمل على تنظيم العلاقات التجارية، دعم الأعمال، وخلق فرص تعاون حقيقية ضمن إطار قانوني دولي. او هو كيان مهني دولي غير حكومي، يضم شركات، رجال أعمال، ومدراء مشاريع من دول مختلفة، ويهدف إلى تنظيم العلاقات التجارية، تعزيز المصداقية المهنية، وخلق بيئة تعاون واستثمار بين الأعضاء.",
  },
  {
    q: "هل الاتحاد معترف في العراق؟",
    a: "عم، عضوية الاتحاد قانونية داخل العراق ولا تخالف أي قانون، مع العلم أن الاتحاد ليس جهة حكومية عراقية، بل اتحاد دولي مسجّل خارج العراق، وتُستخدم عضويته للأغراض المهنية والتجارية.",
  },
  {
    q: "هل الاتحاد معتمد دوليًا؟",
    a: "نعم، الاتحاد مسجّل رسميًا في المملكة المتحدة، وحاصل على تصديق Apostille (الأوبستيل) وفق اتفاقية لاهاي، والذي يتيح اعتماد الوثائق والعمل بها في أكثر من 148 دولة حول العالم، إضافة إلى اعتمادات دولية مثل IAO و IAF.",
  },
  {
    q: "ما الذي سأحصل عليه عند الانضمام للاتحاد؟",
    a: "شهادة عضوية وهوية عضوية تحتوي على QR Code / باركود تعريفي صفة مهنية حسب الباقة دخول إلى مجتمع الاتحاد الرقمي فرص تواصل وتعاون دولي",
  },
  {
    q: "هل العضوية قانونية ولا يوجد أي مخالفة؟",
    a: "نعم، العضوية قانونية 100%، لأنها صادرة عن اتحاد دولي مسجّل ومعتمد.",
  },
  {
    q: "ما فوائد الانضمام للاتحاد؟",
    a: "الفائدة الحقيقية هي تعزيز مكانتك المهنية دوليًا، الدخول ضمن شبكة علاقات قوية، الاستفادة من تسهيلات أعمال، وتطوير نشاطك التجاري ضمن إطار منظّم ومعتمد. او رفع المصداقية المهنية، بناء علاقات تجارية محلية ودولية، فرص تعاون واستثمار، دعم تعريفي وإعلامي، تطوير مهني مستمر.",
  },
  {
    q: "ما الفرق بين الباقات؟",
    a: "الفرق يكون في الامتيازات، مستوى الخدمات، وصلاحيات النفاذ داخل منظومة الاتحاد، بينما الهوية الأساسية موحّدة. او الاختلاف يكون في مستوى الامتيازات، نوع الخدمات مقدم وفرص الاستثمار، حجم الظهور والدعم.",
  },
  {
    q: "هل الهوية تختلف من باقة إلى أخرى؟",
    a: "الفرق يكون في الامتيازات، مستوى الخدمات، وصلاحيات النفاذ داخل منظومة الاتحاد، بينما الهوية الأساسية موحّدة.",
  },
  {
    q: "هل يمكن ترقية الباقة لاحقًا؟",
    a: "نعم، الترقية متاحة بأي وقت بدفع فرق السعر فقط.",
  },
  {
    q: "هل أحصل على شهادة وبطاقة عضوية؟",
    a: "نعم، شهادة رسمية + بطاقة عضوية فعلية صادرة عن اتحاد دولي معتمد.",
  },
  {
    q: "هل يشترط وجود شركة مسجلة؟",
    a: "لا، يمكن الانضمام كفرد مهني، رجل أعمال، أو مستثمر بدون شركة.",
  },
  {
    q: "هل يمكنكم المساعدة بتأسيس شركة؟",
    a: "نعم، نوفر استشارات وتوجيه عبر شركائنا داخل وخارج العراق.",
  },
  {
    q: "ما هي اللجان المتوفرة داخل الاتحاد؟",
    a: "الاستثمار، الشركات والتجارة، المقاولات، التسويق، الاستشارات، التدريب، العلاقات العامة، الموارد البشرية، الابتكار، والعلاقات الدولية.",
  },
  {
    q: "كيف يتم ترشيحي لإحدى اللجان؟",
    a: "بعد الانضمام، يتم الترشح حسب الخبرة والاختصاص وتقييم الإدارة.",
  },
  {
    q: "هل يوجد كروب واتساب للأعضاء؟",
    a: "حاليًا لا يوجد كروب واتساب، لكن لدينا مجتمع رسمي داخل الموقع الإلكتروني مقسّم حسب فئة العضوية والتخصص.",
  },
  {
    q: "كيف يتم التواصل مع الإدارة؟",
    a: "عبر الواتساب الرسمي، البريد الإلكتروني، أو نموذج التواصل بالموقع.",
  },
  {
    q: "هل يوجد رقم هاتف للتواصل؟",
    a: "نعم، يوجد رقم رسمي معلن عبر قنوات الاتحاد.",
  },
  {
    q: "هل يمكن لقاء مسؤولي شركات من خلال الاتحاد؟",
    a: "نعم، عبر المجتمع الرقمي، التنسيقات، والفعاليات.",
  },
  {
    q: "هل البطاقة تُستخدم للإعلام أو التعريف؟",
    a: "نعم، تُستخدم كتعريف مهني وإعلامي، وليست وثيقة حكومية.",
  },
  {
    q: "متى يبدأ نشاط الاتحاد؟",
    a: "نشاط الاتحاد مستمر ويتوسع حسب البرامج والفعاليات.",
  },
  {
    q: "هل يمكن ترشيح صديق أو شريك؟",
    a: "نعم، يمكن ترشيح أي شخص مناسب للعضوية.",
  },
  {
    q: "هل العضوية معترف بها حكوميًا أو دوليًا؟",
    a: "دوليًا: نعم، اتحاد مسجّل وحاصل على Apostille. حكوميًا: ليست جهة حكومية، لكنها معترف بها مهنيًا وقانونيًا ومسجل في وزارة الخارجية العراقية.",
  },
  {
    q: "هل توجد فرص شراكات أو استثمار حقيقية؟",
    a: "نعم، من خلال شبكة الأعضاء والمشاريع المطروحة.",
  },
  {
    q: "هل يتم دعم التسويق والتواجد الرقمي؟",
    a: "نعم، حسب نوع الباقة.",
  },
  {
    q: "هل تشمل العضوية دورات أو تدريب؟",
    a: "بعض الباقات تشمل دورات، وأخرى بخصومات خاصة.",
  },
  {
    q: "هل تختلف الأسعار حسب الباقة؟",
    a: "نعم، كل باقة لها سعر وامتيازات مختلفة.",
  },
  {
    q: "ما هي خطوات الانضمام؟",
    a: "تعبئة الطلب → اختيار الباقة → الدفع → التدقيق → إصدار البطاقة والشهادة.",
  },
  {
    q: "هل يمكن التواصل مع رجال أعمال آخرين؟",
    a: "نعم، عبر مجتمع الاتحاد.",
  },
  {
    q: "كيف يساعدني الاتحاد في السفر الدولي؟",
    a: "من خلال خطابات تعريف رسمية صادرة عن اتحاد حاصل على Apostille (دعم مهني وليس ضمان فيزا).",
  },
  {
    q: "ما هو الكيان القانوني للاتحاد؟",
    a: "اتحاد رسمي مرخص في أنجلترا – وويلز برقم التسجيل 16079550 وحاصل على تصديق (( الأوبتسيل الذي يمنح العمل ب 912 دولة حسب اتفاقية الامم المتحدة )).",
  },
  {
    q: "كيف يضمن الاتحاد الجودة بين الأعضاء؟",
    a: "عبر شروط الانضمام، التقييم، والمتابعة.",
  },
  {
    q: "بأي عملة تُدفع الرسوم؟",
    a: "الدينار العراقي.",
  },
  {
    q: "ماذا لو انسحبت شركة من مشروع؟",
    a: "يتم إلغاء صفة العضوية دون أي التزام قانوني على الاتحاد.",
  },
  {
    q: "هل آمن إرسال البيانات الشخصية؟",
    a: "نعم، البيانات محمية وتُستخدم لغرض العضوية فقط.",
  },
  {
    q: "كيف تُحمى البيانات؟",
    a: "وفق سياسة حماية بيانات دولية معتمدة.",
  },
  {
    q: "هل يوجد تقسيط؟",
    a: "لايوجد.",
  },
  {
    q: "كيف يتم سداد الرسوم؟",
    a: "تحويل، دفع إلكتروني، للمندوب عند استلم طلب.",
  },
  {
    q: "هل لديكم عنوان في بريطانيا؟",
    a: "نعم: 2nd Floor, College House, 17 King Edwards Road, Ruislip, London, HA4 7AE, UK",
  },
  {
    q: "لماذا لا يوجد مكتب في العراق؟",
    a: "لأن الاتحاد دولي ويعمل بنظام إدارة وتمثيل رقمي.",
  },
  {
    q: "هل العضوية للشركات فقط؟",
    a: "لا، تشمل الأفراد ورجال الأعمال.",
  },
  {
    q: "خلال كم يوم يوصل الطلب؟",
    a: "عادة من 2 إلى 3 يوم تصلك لباب البيت.",
  },
  {
    q: "متى يتم شحن الطلب؟",
    a: "بعد اعتماد الطلب مباشرة.",
  },
  {
    q: "هل التوصيل يختلف حسب المحافظة؟",
    a: "لا يوجد دفع التوصيل هدية مقدم من الاتحاد و شامل الشحن وتوصيل لباب البيت.",
  },
  {
    q: "هل السعر شامل التوصيل؟",
    a: "شامل الشحن وتوصيل لباب البيت.",
  },
  {
    q: "كيف أعرف أن طلبي تم تأكيده؟",
    a: "تصلك رسالة أو إيميل تأكيد.",
  },
  {
    q: "هل يتم إعلامي عند الشحن؟",
    a: "نعم.",
  },
  {
    q: "هل يوجد رقم تتبع؟",
    a: "لا يوجد بامكانك متابعة معنا وفريقنا موجود لخدمتكم.",
  },
  {
    q: "في حال التأخير، من أتواصل معه؟",
    a: "خدمة الدعم مباشرة.",
  },
  {
    q: "هل أستطيع تعديل الطلب؟",
    a: "قبل الطباعة فقط.",
  },
  {
    q: "إذا لم يصل الطلب؟",
    a: "يتم حل الموضوع فورًا عبر الدعم.",
  },
  {
    q: "هل يمكن الاطلاع على نموذج الشهادة؟",
    a: "نعم، نموذج رقمي قبل الإصدار.",
  },
  {
    q: "هل يمكن إرسال أوراق تسجيل الاتحاد؟",
    a: "نعم، نسخة تعريفية رسمية.",
  },
  {
    q: "هل أستطيع مراجعة البطاقة قبل الطباعة؟",
    a: "لا لست القسم معني بذلك ويتم رفع طلبك للقسم تصميم.",
  },
  {
    q: "هل يوجد نموذج حقيقي ومعتمد للبطاقة؟",
    a: "نعم، نموذج رسمي معتمد متاح للاطلاع.",
  },
];

function normalize(s: string) {
  return s
    .toLowerCase()
    .replace(/[ًٌٍَُِّْـ]/g, "") // تشكيل
    .replace(/[أإآ]/g, "ا")
    .replace(/ى/g, "ي")
    .replace(/ة/g, "ه")
    .replace(/\s+/g, " ")
    .trim();
}

export default function FaqPage() {
  const [query, setQuery] = useState("");
  const [open, setOpen] = useState<number | null>(0);

  const filtered = useMemo(() => {
    if (!query.trim()) return FAQ;
    const qn = normalize(query);
    return FAQ.filter((x) => {
      const hay = normalize(x.q + " " + x.a);
      return hay.includes(qn);
    });
  }, [query]);

  return (
    <main className="min-h-screen">
      <Header />
      <div className="pt-24 pb-20">
        <div className="mx-auto max-w-4xl px-4">
          <SectionHeading
            title="الأسئلة الشائعة"
            subtitle="إجابات واضحة على أكثر الأسئلة شيوعًا حول اتحاد الشركات الدولي"
          />

          {/* Search */}
          <div className="glass mb-6 flex items-center gap-3 rounded-xl border border-border/30 bg-card/50 px-4 py-3">
            <Search size={16} className="text-muted-foreground" />
            <input
              value={query}
              onChange={(e) => setQuery(e.target.value)}
              placeholder="ابحث عن سؤال…"
              className="w-full bg-transparent text-sm text-foreground outline-none placeholder:text-muted-foreground"
            />
          </div>

          {/* FAQ list */}
          <div className="space-y-3">
            {filtered.map((item, idx) => {
              const isOpen = open === idx;
              return (
                <div
                  key={item.q}
                  className="glass group overflow-hidden rounded-xl border border-border/30 bg-card/40 transition-all duration-300 hover:glow-gold"
                >
                  <button
                    type="button"
                    onClick={() => setOpen(isOpen ? null : idx)}
                    className="flex w-full items-center justify-between gap-4 px-5 py-4 text-right"
                  >
                    <div>
                      <h3 className="font-heading text-sm font-bold text-foreground">
                        {item.q}
                      </h3>
                    </div>

                    <ChevronDown
                      size={18}
                      className={`shrink-0 text-primary transition-transform duration-300 ${
                        isOpen ? "rotate-180" : ""
                      }`}
                    />
                  </button>

                  <div
                    className={`grid transition-all duration-300 ${
                      isOpen ? "grid-rows-[1fr] opacity-100" : "grid-rows-[0fr] opacity-0"
                    }`}
                  >
                    <div className="overflow-hidden px-5 pb-5">
                      <p className="text-sm leading-relaxed text-muted-foreground">
                        {item.a}
                      </p>
                    </div>
                  </div>
                </div>
              );
            })}

            {filtered.length === 0 && (
              <div className="glass rounded-xl border border-border/30 bg-card/40 p-6 text-center text-sm text-muted-foreground">
                مفيش نتائج مطابقة… جرّب كلمات مختلفة.
              </div>
            )}
          </div>
        </div>
      </div>
      <Footer />
    </main>
  );
}